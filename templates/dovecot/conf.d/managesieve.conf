# ManageSieve protocol configuration
# Place in: /etc/dovecot/conf.d/managesieve.conf
# This allows mail clients to manage sieve rules directly

# ManageSieve protocol
protocols = $protocols sieve

# Service configuration
service managesieve-login {
  inet_listener sieve {
    port = 4190
  }
  
  inet_listener sieve_deprecated {
    port = 2000
  }
}

service managesieve {
  # Max number of ManageSieve processes
  process_limit = 1024
}

# ManageSieve protocol settings
protocol sieve {
  managesieve_max_line_length = 65536
  
  # Maximum number of compile errors to return
  managesieve_max_compile_errors = 5
  
  # Refer to Sieve capabilities
  managesieve_sieve_capability = fileinto reject envelope encoded-character vacation subaddress comparator-i;ascii-numeric relational regex imap4flags copy include variables body enotify environment mailbox date index ihave duplicate mime foreverypart extracttext
  
  # Which Sieve extensions are available
  managesieve_notify_capability = mailto
  
  # Maximum Sieve script size that ManageSieve can handle
  managesieve_max_script_size = 2M
}
