# Description: Production environment configuration
# This configuration conflicts with development.conf and they cannot be enabled simultaneously

Include conf-available/essentials.conf
Include conf-available/performances.conf

Define PROD_SERVER
UnDefine DEV_SERVER

# Include environment-neutral performance settings
# Include conf.enabled/performance-environment.conf

# Production-specific headers
<IfModule mod_headers.c>
  # Production: enable appropriate caching
  Header always set X-Environment "production"
  
  # Security headers for production
  Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
  Header always set X-XSS-Protection "1; mode=block"
  Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# SSL/TLS configuration for production
<IfModule mod_ssl.c>
  # OCSP Stapling for production
  SSLUseStapling on
  SSLStaplingCache shmcb:${APACHE_RUN_DIR}/stapling(128000)
</IfModule>

# Disable sensitive endpoints on production
<Location "/server-info">
  Require all denied
</Location>
<Location "/server-status">
  Require all denied
</Location>
