# Enhanced logging snippet for Apache sites
# Usage: IncludeOptional /etc/apache2/snippets/logging.conf
# Uses the SITE_NAME variable defined in the vhost

# Access log with combined format plus response time
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\" %D" combined_with_time

<IfDefine SITE_NAME>
  ErrorLog /var/log/apache2/${SITE_NAME}.error.log
  CustomLog /var/log/apache2/${SITE_NAME}.access.log combined_with_time
</IfDefine>

# Fallback if SITE_NAME is not defined
<IfDefine !SITE_NAME>
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined_with_time
</IfDefine>

# Log level for debugging (can be overridden per-site)
LogLevel warn
